{% extends "base.html" %}

{% block head %}
	<script src="https://unpkg.com/alpinejs" defer></script>
	<title>Alpine.js</title>
{% endblock %}

{% block content %}
	<div class="container">
		<div class="row">
			<div class="col-md-6">
				<h3 class="p-2">Alpine.js</h3>
				<div class="my-3" x-data="{ open: false }">
					<button @click="open = !open" class="btn btn-primary">Toggle visibility</button>
					<div x-show="open" x-transition.duration.700ms>Contents...</div>
				</div>

				<div class="my-3" x-data="{
					open: false,
					toggle() {
						this.open = !this.open
					}
				}">
					<button @click="toggle()" class="btn btn-primary">Toggle visibility v2</button>
					<div x-show="open" x-transition.duration.700ms>Contents...</div>
				</div>

				<div class="my-3" x-data="{ text: 'Hello world' }">
					<div x-text="text"></div>
					<button @click="text = 'Reset'" class="btn btn-primary">Reset text</button>
				</div>

				<div class="my-3" x-data="{ text: '<b>Hello world</b>' }">
					<div x-html="text"></div>
				</div>

				<div class="my-3" x-data="">
					<label>Log event to console
						<input type="text" @change="console.log($event.target.value)" class="form-control">
					</label>
				</div>

				<form class="my-3" x-data="{ name: '', rules: false }" @submit.prevent="">
					<label for="dataForm">Sync input value with data</label><br>
					<input x-model="name" type="text" id="dataForm">
					<button @click="name = 'some text'" class="btn btn-primary">Change text</button>
					<br>
					<div x-text="name"></div>
					<input x-model="rules" type="checkbox" id="rules">
					<label for="rules">I agree with rules</label>
					<div x-text="rules"></div>
				</form>

				<div class="my-3" x-data="{ gender: '' }">
					<div>
						<label for="male">Male</label><input type="radio" x-model="gender" id="male" value="M">
					</div>
					<div>
						<label for="female">Female</label><input type="radio" x-model="gender" id="female" value="F">
					</div>
					<div x-text="gender"></div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="my-3" x-data="{
				name: '',
				result: '',
				getData() {
					fetch(`https://api.nationalize.io?name=${this.name}`)
					.then(response => response.json())
					.then(response => this.result = response?.country[0]?.country_id)
					}
				}">
					<label for="nameForm">Name</label><br>
					<input @keyup.debounce.700ms="getData()" x-model="name" type="text" id="nameForm"
					       class="form-control col-md-4">
					<template x-if="result">
						<div x-text="result"></div>
					</template>
				</div>

			</div>
		</div>
	</div>
{% endblock %}
